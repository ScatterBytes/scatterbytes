<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>scatterbytes.storage package &mdash; ScatterBytes 0.9.14 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.14',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="ScatterBytes 0.9.14 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>ScatterBytes 0.9.14 documentation</span></a></h1>
        <h2 class="heading"><span>scatterbytes.storage package</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="scatterbytes-storage-package">
<h1>scatterbytes.storage package<a class="headerlink" href="#scatterbytes-storage-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-scatterbytes.storage.jsonrpc">
<span id="scatterbytes-storage-jsonrpc-module"></span><h2>scatterbytes.storage.jsonrpc module<a class="headerlink" href="#module-scatterbytes.storage.jsonrpc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="scatterbytes.storage.jsonrpc.ChunkFile">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">ChunkFile</tt><big>(</big><em>rfile</em>, <em>content_length</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#ChunkFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.ChunkFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Mimic a file object with read method.</p>
<p>This is required to adapt the request handler&#8217;s method for reading to the
StorageNode.</p>
<dl class="attribute">
<dt id="scatterbytes.storage.jsonrpc.ChunkFile.max_chunk_size">
<tt class="descname">max_chunk_size</tt><em class="property"> = 5000000</em><a class="headerlink" href="#scatterbytes.storage.jsonrpc.ChunkFile.max_chunk_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.ChunkFile.read">
<tt class="descname">read</tt><big>(</big><em>size=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#ChunkFile.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.ChunkFile.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">StorageNodeRequestHandler</tt><big>(</big><em>request</em>, <em>client_address</em>, <em>server</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeRequestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.jsonrpc.RPCRequestHandler" title="scatterbytes.jsonrpc.RPCRequestHandler"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.jsonrpc.RPCRequestHandler</span></tt></a></p>
<p>Request handler adding GET and PUT handling for file transfers.</p>
<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.do_GET">
<tt class="descname">do_GET</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeRequestHandler.do_GET"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.do_GET" title="Permalink to this definition">¶</a></dt>
<dd><p>Send all or part of a file.</p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.do_PUT">
<tt class="descname">do_PUT</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeRequestHandler.do_PUT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.do_PUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Check and store a file.</p>
</dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.file_re">
<tt class="descname">file_re</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x2871a30&gt;</em><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.file_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.log_message">
<tt class="descname">log_message</tt><big>(</big><em>format</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeRequestHandler.log_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.log_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.report_404">
<tt class="descname">report_404</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeRequestHandler.report_404"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeRequestHandler.report_404" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeSSLServer">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">StorageNodeSSLServer</tt><big>(</big><em>storage_node</em>, <em>log_requests=True</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeSSLServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeSSLServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.jsonrpc.SSLRPCServer" title="scatterbytes.jsonrpc.SSLRPCServer"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.jsonrpc.SSLRPCServer</span></tt></a></p>
<p>single-threaded JSON-RPC Server for a storage node.</p>
<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeSSLServer.shutdown">
<tt class="descname">shutdown</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#StorageNodeSSLServer.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeSSLServer.shutdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.jsonrpc.StorageNodeServer">
<tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">StorageNodeServer</tt><a class="headerlink" href="#scatterbytes.storage.jsonrpc.StorageNodeServer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer" title="scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer"><tt class="xref py py-class docutils literal"><span class="pre">ThreadedStorageNodeSSLServer</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">ThreadedStorageNodeSSLServer</tt><big>(</big><em>storage_node</em>, <em>log_requests=True</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#ThreadedStorageNodeSSLServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.jsonrpc.ThreadedSSLRPCServer" title="scatterbytes.jsonrpc.ThreadedSSLRPCServer"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.jsonrpc.ThreadedSSLRPCServer</span></tt></a></p>
<p>multi-threaded JSON-RPC Server for a storage node.</p>
<dl class="method">
<dt id="scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer.shutdown">
<tt class="descname">shutdown</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#ThreadedStorageNodeSSLServer.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.ThreadedStorageNodeSSLServer.shutdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.jsonrpc.create_storage_node">
<tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">create_storage_node</tt><big>(</big><em>control_node_proxy=None</em>, <em>storage_node_proxy_creator=None</em>, <em>config=None</em>, <em>verbosity=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#create_storage_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.create_storage_node" title="Permalink to this definition">¶</a></dt>
<dd><p>factory for StorageNode</p>
<p>unlike scatterbytes.storage.node.create_storage_node, this factory is
json-rpc specific</p>
</dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.jsonrpc.start_server">
<tt class="descclassname">scatterbytes.storage.jsonrpc.</tt><tt class="descname">start_server</tt><big>(</big><em>daemonize=True</em>, <em>config=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/jsonrpc.html#start_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.jsonrpc.start_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-scatterbytes.storage.node">
<span id="scatterbytes-storage-node-module"></span><h2>scatterbytes.storage.node module<a class="headerlink" href="#module-scatterbytes.storage.node" title="Permalink to this headline">¶</a></h2>
<p>Storage Node</p>
<dl class="class">
<dt id="scatterbytes.storage.node.CheckFileIntegrityTask">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">CheckFileIntegrityTask</tt><big>(</big><em>storage_node</em>, <em>period=30</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#CheckFileIntegrityTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.CheckFileIntegrityTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#scatterbytes.storage.node.Task" title="scatterbytes.storage.node.Task"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.storage.node.Task</span></tt></a></p>
<dl class="method">
<dt id="scatterbytes.storage.node.CheckFileIntegrityTask.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#CheckFileIntegrityTask.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.CheckFileIntegrityTask.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.CheckFileIntegrityTask.update_file_list">
<tt class="descname">update_file_list</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#CheckFileIntegrityTask.update_file_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.CheckFileIntegrityTask.update_file_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.IntegrityChecker">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">IntegrityChecker</tt><big>(</big><em>storage_directory</em>, <em>control_node_proxy</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#IntegrityChecker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.IntegrityChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.util.FamilyThread" title="scatterbytes.util.FamilyThread"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.util.FamilyThread</span></tt></a></p>
<p>checks the integrity of stored files using crc32 checksum</p>
<dl class="method">
<dt id="scatterbytes.storage.node.IntegrityChecker.checksum_files">
<tt class="descname">checksum_files</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#IntegrityChecker.checksum_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.IntegrityChecker.checksum_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.IntegrityChecker.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#IntegrityChecker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.IntegrityChecker.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.RegistrationTask">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">RegistrationTask</tt><big>(</big><em>storage_node</em>, <em>period=60</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#RegistrationTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.RegistrationTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#scatterbytes.storage.node.Task" title="scatterbytes.storage.node.Task"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.storage.node.Task</span></tt></a></p>
<p>Register and keep address/port updated.</p>
<p>After initial registration, status will not be updated.  It takes some time
for the server to check the connectivity.  The status will be updated on
subsequent registrations.  The status will be updated on subsequent
registrations.  The status will be updated on subsequent registrations.
The status will be updated on subsequent registrations.</p>
<dl class="method">
<dt id="scatterbytes.storage.node.RegistrationTask.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#RegistrationTask.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.RegistrationTask.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.SendingJob">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">SendingJob</tt><big>(</big><em>transfer_data</em>, <em>proxy_creator</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingJob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.util.FamilyThread" title="scatterbytes.util.FamilyThread"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.util.FamilyThread</span></tt></a></p>
<dl class="method">
<dt id="scatterbytes.storage.node.SendingJob.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingJob.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingJob.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.SendingJob.send_chunk">
<tt class="descname">send_chunk</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingJob.send_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingJob.send_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.SendingQueue">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">SendingQueue</tt><big>(</big><em>proxy_creator</em>, <em>config</em>, <em>shutdown_event</em>, <em>concurrent_max=3</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.util.FamilyThread" title="scatterbytes.util.FamilyThread"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.util.FamilyThread</span></tt></a></p>
<p>manages queue of chunks to send</p>
<p>This thread will not run in daemon mode and the parent process should wait
on it to finish before exiting.</p>
<dl class="method">
<dt id="scatterbytes.storage.node.SendingQueue.add">
<tt class="descname">add</tt><big>(</big><em>transfer_data</em>, <em>priority=2</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingQueue.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingQueue.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.SendingQueue.create_proxy">
<tt class="descname">create_proxy</tt><big>(</big><em>uri</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingQueue.create_proxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingQueue.create_proxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.SendingQueue.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#SendingQueue.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.SendingQueue.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.SendingQueue.sleep_period">
<tt class="descname">sleep_period</tt><em class="property"> = 2.0</em><a class="headerlink" href="#scatterbytes.storage.node.SendingQueue.sleep_period" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.StorageChunk">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">StorageChunk</tt><big>(</big><em>chunk_path</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageChunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageChunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.chunk.Chunk" title="scatterbytes.chunk.Chunk"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.chunk.Chunk</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.StorageNode">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">StorageNode</tt><big>(</big><em>control_node_proxy</em>, <em>snode_proxy_creator</em>, <em>config=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.node.UserNode" title="scatterbytes.node.UserNode"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.node.UserNode</span></tt></a></p>
<p>node that stores data chunks for the clients</p>
<dl class="docutils">
<dt>control_node_proxy</dt>
<dd>proxy to the control node</dd>
<dt>sending_queue</dt>
<dd>queue used to prioritize outgoing chunks</dd>
<dt>task_scheduler</dt>
<dd>schedules background tasks</dd>
</dl>
<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.check_hash">
<tt class="descname">check_hash</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.check_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.check_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNode.config_class">
<tt class="descname">config_class</tt><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.config_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#scatterbytes.storage.node.StorageNodeConfig" title="scatterbytes.storage.node.StorageNodeConfig"><tt class="xref py py-class docutils literal"><span class="pre">StorageNodeConfig</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.confirm_transfer">
<tt class="descname">confirm_transfer</tt><big>(</big><em>transfer_name</em>, <em>chunk_name</em>, <em>chunk_hash</em>, <em>mbytes_available</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.confirm_transfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.confirm_transfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the control node the transfer is complete.</p>
<p>If the transfer exists, the control node could confirm it by seeing
who it was assigned to and verifying the signature.  Sending a node_id
allows it to log any confirmations on transfers that do not exist.</p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.delete_chunk">
<tt class="descname">delete_chunk</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.delete_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.delete_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.echo">
<tt class="descname">echo</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.echo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.find_chunk_path">
<tt class="descname">find_chunk_path</tt><big>(</big><em>chunk_name</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.find_chunk_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.find_chunk_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.get_mbytes_available">
<tt class="descname">get_mbytes_available</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.get_mbytes_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.get_mbytes_available" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.hello">
<tt class="descname">hello</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.hello"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.hello" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.recover">
<tt class="descname">recover</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.recover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.recover" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.retrieve_chunk">
<tt class="descname">retrieve_chunk</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.retrieve_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.retrieve_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.send_chunk">
<tt class="descname">send_chunk</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.send_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.send_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.shutdown">
<tt class="descname">shutdown</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute cleanup operations for shutdown.</p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.startup">
<tt class="descname">startup</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.startup" title="Permalink to this definition">¶</a></dt>
<dd><p>Start threads that did not start on init.</p>
<p>For instance, registration shouldn&#8217;t begin until the HTTPS server is
listening.</p>
</dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNode.status">
<tt class="descname">status</tt><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.store_chunk">
<tt class="descname">store_chunk</tt><big>(</big><em>storage_node</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.store_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.store_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNode.unregister">
<tt class="descname">unregister</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNode.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNode.unregister" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.StorageNodeConfig">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">StorageNodeConfig</tt><big>(</big><em>config_path</em>, <em>use_config_paths=False</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNodeConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.config.ConfigBase" title="scatterbytes.config.ConfigBase"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.config.ConfigBase</span></tt></a></p>
<p>StorageNode Configuration</p>
<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.config_name">
<tt class="descname">config_name</tt><em class="property"> = 'storage_node.config'</em><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.config_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.defaults">
<tt class="descname">defaults</tt><em class="property"> = {'node_id': ('main', '', None), 'listen_port': ('network', 8085, 'int'), 'debug': ('main', True, 'boolean'), 'control_node_port': ('network', 8080, 'int'), 'listen_address': ('network', '0.0.0.0', None), 'control_node_address': ('network', 'controlnode.test.scatterbytes.net', None), 'reserve_storage': ('main', 100, 'int')}</em><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.StorageNodeConfig.find_chunk_path">
<tt class="descname">find_chunk_path</tt><big>(</big><em>chunk_name</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNodeConfig.find_chunk_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.find_chunk_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the filesystem path to chunk_name.</p>
<p>To keep from overwhelming some filesystems (and users who may ask for
a directory listing), there are 32**2 directories.  Each chunk is put
into a directory based on the last two characters in its name. The
last characters are used because the base32 encoding may be left
padded, which would bias the directory contents.</p>
<p>1 TB of 1 MB chunks would therefore contain 1000 directories each
containing 1000 files.</p>
</dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.log_filename">
<tt class="descname">log_filename</tt><em class="property"> = 'storage_node.log'</em><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.log_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.requests_log_filename">
<tt class="descname">requests_log_filename</tt><em class="property"> = 'storage_node_requests.log'</em><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.requests_log_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.requests_log_path">
<tt class="descname">requests_log_path</tt><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#StorageNodeConfig.requests_log_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.requests_log_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="scatterbytes.storage.node.StorageNodeConfig.search_dirs">
<tt class="descname">search_dirs</tt><em class="property"> = ['/etc']</em><a class="headerlink" href="#scatterbytes.storage.node.StorageNodeConfig.search_dirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.Task">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">Task</tt><big>(</big><em>period=60</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="scatterbytes.storage.node.Task.get_value">
<tt class="descname">get_value</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>get a value shared between tasks or threads</p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.Task.is_time_to_run">
<tt class="descname">is_time_to_run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task.is_time_to_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task.is_time_to_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.Task.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.Task.run_task">
<tt class="descname">run_task</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task.run_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task.run_task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.Task.set_value">
<tt class="descname">set_value</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#Task.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.Task.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>set a value shared between tasks or threads</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="scatterbytes.storage.node.TaskScheduler">
<em class="property">class </em><tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">TaskScheduler</tt><big>(</big><em>shutdown_event</em>, <em>tasks=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#TaskScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.TaskScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="scatterbytes.html#scatterbytes.util.FamilyThread" title="scatterbytes.util.FamilyThread"><tt class="xref py py-class docutils literal"><span class="pre">scatterbytes.util.FamilyThread</span></tt></a></p>
<dl class="method">
<dt id="scatterbytes.storage.node.TaskScheduler.get_value">
<tt class="descname">get_value</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#TaskScheduler.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.TaskScheduler.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>get a value shared between tasks or threads</p>
</dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.TaskScheduler.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#TaskScheduler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.TaskScheduler.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="scatterbytes.storage.node.TaskScheduler.set_value">
<tt class="descname">set_value</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#TaskScheduler.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.TaskScheduler.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>set a value shared between tasks or threads</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.collect_recovery_info">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">collect_recovery_info</tt><big>(</big><em>storage_directory</em>, <em>output_path</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#collect_recovery_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.collect_recovery_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect name and hash of every chunk and write it to a file.</p>
</dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.create_storage_node">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">create_storage_node</tt><big>(</big><em>control_node_proxy=None</em>, <em>snode_proxy_creator=None</em>, <em>config=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#create_storage_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.create_storage_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.get_datetime">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">get_datetime</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#get_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.get_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.get_mbytes_available">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">get_mbytes_available</tt><big>(</big><em>config</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#get_mbytes_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.get_mbytes_available" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.publish">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">publish</tt><big>(</big><em>relay=False</em>, <em>exclude_sigchecks=None</em>, <em>pass_cert=False</em>, <em>restricted=True</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Define publishing attributes.</p>
<dl class="docutils">
<dt>relay</dt>
<dd>a call relayed from control node</dd>
<dt>exclude_sigchecks</dt>
<dd>position of arguments not signed</dd>
<dt>pass_cert</dt>
<dd>pass certificate information to method</dd>
<dt>restricted</dt>
<dd>should only be called by control node or via relay</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.register">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">register</tt><big>(</big><em>control_node_proxy</em>, <em>config</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.unregister">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">unregister</tt><big>(</big><em>control_node_proxy</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.unregister" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="scatterbytes.storage.node.verify_relay_command">
<tt class="descclassname">scatterbytes.storage.node.</tt><tt class="descname">verify_relay_command</tt><big>(</big><em>node</em>, <em>args</em>, <em>exclude_sigchecks=None</em><big>)</big><a class="reference internal" href="../_modules/scatterbytes/storage/node.html#verify_relay_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scatterbytes.storage.node.verify_relay_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-scatterbytes.storage">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-scatterbytes.storage" title="Permalink to this headline">¶</a></h2>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Randall Smith.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>